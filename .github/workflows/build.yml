name: Build

on:
    push:
        branches: '**'
    pull_request:
        branches: '**'

jobs:
    build:
        runs-on: ubuntu-latest

        steps:
            -   name: Checkout source
                uses: actions/checkout@v5

            -   name: Set up JDK
                uses: actions/setup-java@v5
                with:
                    java-version: "21"
                    distribution: "temurin"

            -   name: Setup Gradle
                uses: gradle/actions/setup-gradle@v4

            -   name: Run chmod to make gradlew executable
                run: chmod +x ./gradlew

            -   name: Build with Gradle
                run: ./gradlew build

            -   name: Upload a Build Artifact
                uses: actions/upload-artifact@v4.6.2
                with:
                    # Artifact name
                    name: McDeob-Artifact
                    # A file, directory or wildcard pattern that describes what to upload
                    path: |
                        build/libs/McDeob-*-all.jar
